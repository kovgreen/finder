{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Loader/Loader.module.css","App.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","utils/imagesApi.js","Components/Button/Button.js","Components/Loader/Loader.js","Components/Modal/Modal.js","App.js","index.js","Components/Searchbar/Searchbar.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Button/Button.module.css"],"names":["module","exports","Searchbar","state","search","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","className","styles","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","name","onChange","Component","ImageGalleryItem","image","openModal","webformatURL","tags","id","onClick","src","alt","ImageGalleryItemImage","ImageGallery","images","map","key","fetchImages","query","page","fetch","then","res","Promise","resolve","setTimeout","json","data","hits","Button","div","Loader","loader","color","height","width","MODAL_ROOT","document","querySelector","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","children","createPortal","Overlay","ref","role","App","error","isLoading","isModalOpen","largeImageId","largeImage","onSearch","fetchImagesWithScroll","scroll","imagesApi","catch","finally","firstLoadedImage","y","getElementById","getBoundingClientRect","top","scrollY","scrollTo","behavior","findImg","find","Number","currentTarget","closeModal","prevProps","prevState","length","largeImageURL","defaultProps","ReactDOM","render"],"mappings":"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","file":"static/js/main.d2b4895f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__36CpC\",\"Modal\":\"Modal_Modal__1lrpI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__MGXx1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1jujU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__3zAxK\"};","import React, { Component } from \"react\";\r\nimport styles from \"./Searchbar.module.css\";\r\n\r\nexport default class Searchbar extends Component {\r\n  state = { search: \"\" };\r\n\r\n  handleChange = e => {\r\n    this.setState({ search: e.target.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.search);\r\n    this.setState({ search: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.Searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\r\n          <button type=\"submit\" className={styles.SearchFormButton}>\r\n            <span className={styles.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.search}\r\n            name=\"search\"\r\n            onChange={this.handleChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nconst ImageGalleryItem = ({ image, openModal }) => {\r\n  const { webformatURL, tags } = image;\r\n\r\n  return (\r\n    <li id={image.id} onClick={openModal} className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={webformatURL}\r\n        alt={tags}\r\n        className={styles.ImageGalleryItemImage}\r\n      />\r\n    </li>\r\n  );\r\n};\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string\r\n  })\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport styles from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <ul className={styles.ImageGallery}>\r\n      {images.map(image => (\r\n        <ImageGalleryItem openModal={openModal} key={image.id} image={image} />\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.shape({}).isRequired).isRequired,\r\n  openModal: PropTypes.func.isRequired\r\n};\r\n\r\nexport default ImageGallery;\r\n","export const fetchImages = (query = \"\", page = 1) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=16070061-e558bf4629394a30a7b45ae97&image_type=photo&orientation=horizontal&per_page=12`\r\n  )\r\n    .then(res => new Promise(resolve => setTimeout(() => resolve(res), 300))) //for testing loader-spinner\r\n    .then(res => res.json())\r\n    .then(data => data.hits);\r\n};\r\n\r\nexport { fetchImages as default };\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Button.module.css\";\r\n\r\nconst Button = ({ fetchImages }) => (\r\n  <div className={styles.div}>\r\n    <button type=\"button\" className={styles.Button} onClick={fetchImages}>\r\n      Load more...\r\n    </button>\r\n  </div>\r\n);\r\n\r\nButton.propTypes = {\r\n  fetchImages: PropTypes.func.isRequired\r\n};\r\n\r\nexport default Button;\r\n","import React from \"react\";\r\nimport LoaderSpinner from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport styles from \"./Loader.module.css\";\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div className={styles.loader}>\r\n      <LoaderSpinner type=\"Bars\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React, { Component, createRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./Modal.module.css\";\r\n\r\nconst MODAL_ROOT = document.querySelector(\"#modal-root\");\r\n\r\nexport default class Modal extends Component {\r\n  static propTypes = {\r\n    onClose: PropTypes.func.isRequired,\r\n    children: PropTypes.node.isRequired\r\n  };\r\n\r\n  backdropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== \"Escape\") {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  handleBackdropClick = e => {\r\n    if (this.backdropRef.current && e.target !== this.backdropRef.current) {\r\n      return;\r\n    }\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    return createPortal(\r\n      <div\r\n        className={styles.Overlay}\r\n        ref={this.backdropRef}\r\n        onClick={this.props.onClose}\r\n        role=\"presentation\"\r\n      >\r\n        <div className={styles.Modal}>{children}</div>\r\n      </div>,\r\n      MODAL_ROOT\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from \"react\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport * as imagesApi from \"./utils/imagesApi\";\nimport Button from \"./Components/Button/Button\";\nimport Loader from \"./Components/Loader/Loader\";\nimport Modal from \"./Components/Modal/Modal\";\nimport styles from \"./App.module.css\";\n\nexport default class App extends Component {\n  static defaultProps = {};\n\n  static propTypes = {};\n\n  state = {\n    images: [],\n    page: 1,\n    search: \"\",\n    error: \"\",\n    isLoading: false,\n    isModalOpen: false,\n    largeImageId: null,\n    largeImage: []\n  };\n\n  componentDidMount() {}\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.search !== this.state.search) {\n      this.fetchImages(false);\n    }\n  }\n\n  onSearch = search => {\n    this.setState({ search, images: [], page: 1 });\n  };\n\n  fetchImagesWithScroll = () => {\n    this.fetchImages(true);\n  };\n\n  fetchImages = scroll => {\n    this.setState({ isLoading: true });\n    const { search, page } = this.state;\n    imagesApi\n      .fetchImages(search, page)\n      .then(images => {\n        this.setState(state => ({\n          images: [...state.images, ...images],\n          page: state.page + 1\n        }));\n        return images[0];\n      })\n      .catch(error => {\n        this.setState({ error });\n      })\n      .finally(() => {\n        this.setState({ isLoading: false });\n      })\n      .then(firstLoadedImage => {\n        if (scroll) {\n          const { id } = firstLoadedImage;\n\n          const y =\n            document.getElementById(id).getBoundingClientRect().top +\n            window.scrollY -\n            80;\n          window.scrollTo({\n            top: y,\n            behavior: \"smooth\"\n          });\n        }\n      });\n  };\n\n  findImg = () => {\n    const largeImg = this.state.images.find(image => {\n      return image.id === this.state.largeImageId;\n    });\n    return largeImg;\n  };\n\n  openModal = e => {\n    this.setState({\n      isModalOpen: true,\n      largeImageId: Number(e.currentTarget.id)\n    });\n  };\n  closeModal = () => this.setState({ isModalOpen: false });\n\n  render() {\n    const { isLoading, images, isModalOpen, largeImageId } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.onSearch} />\n        <ImageGallery openModal={this.openModal} images={images} />\n        {isLoading && <Loader />}\n        {images.length > 0 && (\n          <Button fetchImages={this.fetchImagesWithScroll} />\n        )}\n        {isModalOpen && (\n          <Modal largeImageId={largeImageId} onClose={this.closeModal}>\n            <img src={this.findImg().largeImageURL} alt={this.findImg().tags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2j5br\",\"SearchForm\":\"Searchbar_SearchForm__jAUWz\",\"SearchFormButton\":\"Searchbar_SearchFormButton__Y2j2r\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__3IsQi\",\"SearchFormInput\":\"Searchbar_SearchFormInput__21Hce\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1yOBc\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage___ipJd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BtnBlock\":\"Button_BtnBlock__3JJi2\",\"Button\":\"Button_Button__LkbFT\"};"],"sourceRoot":""}